This package contains Galaxy wrappers for two standalone command line protein
analysis tools (SignalP 3.0 and THMHMM 2.0) from the Center for Biological
Sequence Analysis at the Technical University of Denmark,
http://www.cbs.dtu.dk/cbs/

To use these Galaxy wrappers you must first install the CBS command line
tools. At the time of writing both SignalP 3.0 and TMHMM 2.0 are free for
academic use.

These wrappers are copyright 2010 by Peter Cock, SCRI, UK. All rights
reserved. See the included LICENCE file for details.

Installation
============

1. Install the command line version of SignalP 3.0 and ensure it is on the
   PATH, see: http://www.cbs.dtu.dk/services/SignalP/

2. Install the command line version of TMHMM 2.0 and ensure it is on the
   PATH, see: http://www.cbs.dtu.dk/services/TMHMM/

3. Create a folder tools/protein_analysis under your Galaxy installation.

4. Copy/move the following files (from this archive) there:

tmhmm2.xml (Galaxy tool definition)
tmhmm2.py (Python wrapper script)
signalp3.xml (Galaxy tool definition)
signalp3.py (Python wrapper script)
seq_analysis_utils.py (shared Python code)
README (optional)

5. Edit your Galaxy conjuration file tool_conf.xml (to use the tools) AND
   also tool_conf.xml.sample (to run the tests) to include the two new tools
   by adding:

  <section name="Protein sequence analysis" id="protein_analysis">
    <tool file="protein_analysis/tmhmm2.xml" />
    <tool file="protein_analysis/signalp3.xml" />
  </section>

6. Copy/move the following test files (from these archive) to Galaxy
   subfolder test-data:

four_human_proteins.fasta
four_human_proteins_signalp3.tabular
four_human_proteins_tmhmm2.tabular
empty.fasta
empty_tmhmm2.tabular
empty_signalp3.tabular

7. Run the Galaxy functional tests for these new wrappers with:

./run_functional_tests.sh -id tmhmm2
./run_functional_tests.sh -id signalp3

Alternatively, this should work (assuming you left the name and id as shown in
the XML file tool_conf.xml.sample):

./run_functional_tests.sh -sid Protein_sequence_analysis-protein_analysis

8. Restart Galaxy and check the new tools are shown and work.


History
=======

v0.0.1 - Initial release
v0.0.2 - Corrected some typos in the help text
       - Renamed test output file to use Galaxy convention of *.tabular
v0.0.3 - Check for tmhmm2 silent failures (no output)
       - Additional unit tests
v0.0.4 - Ignore comment lines in tmhmm2 output.
v0.0.5 - Explicitly request tmhmm short output (may not be the default)

Developers
==========

This script and other tools are being developed on the following hg branch:
http://bitbucket.org/peterjc/galaxy-central/src/tools

This incorporates the previously used hg branch:
http://bitbucket.org/peterjc/galaxy-central/src/seq_analysis

For making the "Galaxy Tool Shed" http://community.g2.bx.psu.edu/ tarball use
the following command from the Galaxy root folder:

tar -czf tmhmm_and_signalp.tar.gz tools/protein_analysis/LICENSE tools/protein_analysis/README tools/protein_analysis/suite_config.xml tools/protein_analysis/seq_analysis_utils.py tools/protein_analysis/signalp3.xml tools/protein_analysis/signalp3.py tools/protein_analysis/tmhmm2.xml tools/protein_analysis/tmhmm2.py test-data/four_human_proteins.* test-data/empty.fasta test-data/empty_tmhmm2.tabular test-data/empty_signalp3.tabular

Check this worked:

$ tar -tzf tmhmm_and_signalp.tar.gz
tools/protein_analysis/LICENSE
tools/protein_analysis/README
tools/protein_analysis/suite_config.xml
tools/protein_analysis/seq_analysis_utils.py
tools/protein_analysis/signalp3.xml
tools/protein_analysis/signalp3.py
tools/protein_analysis/tmhmm2.xml
tools/protein_analysis/tmhmm2.py
test-data/four_human_proteins.fasta
test-data/four_human_proteins.signalp3.tabular
test-data/four_human_proteins.tmhmm2.tabular
test-data/empty.fasta
test-data/empty_tmhmm2.tabular
test-data/empty_signalp3.tabular
